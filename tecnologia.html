<!DOCTYPE html>
<html lang="pt-BR" class="scroll-smooth">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Plena Informática - Tecnologia</title>
  <meta name="description" content="Sistemas sob medida, sites e landing pages para pequenos e médios negócios. Simples de usar, prontos para vender e operar."/>
  <meta name="theme-color" content="#0a0a0f"/>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Roboto+Mono:wght@400;700&display=swap" rel="stylesheet"/>
  <style>
    :root {
      --primary: #10b981;
      --primary-400: #34d399;
      --bg: #0A0A0F;
      --text: #e5e7eb;
    }
    
    html {
      font-size: 16px;
    }
    
    body {
      font-family: 'Poppins', sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.6;
    }
    
    section[id] {
      scroll-margin-top: 6rem;
    }
    
    .header-blur {
      backdrop-filter: saturate(180%) blur(8px);
      background: rgba(0, 0, 0, 0.72);
    }
    
    .accessible-outline:focus-visible {
      outline: 2px solid var(--primary);
      outline-offset: 3px;
    }

    /* Tipografia fluida e lapidação de espaçamentos */
    .h1 {
      font-weight: 700;
      line-height: 1.12;
      font-size: clamp(2.1rem, 3.6vw, 3.05rem);
    }
    
    .h2 {
      font-weight: 700;
      line-height: 1.18;
      font-size: clamp(1.6rem, 2.6vw, 2.15rem);
    }
    
    .h3 {
      font-weight: 600;
      line-height: 1.22;
      font-size: clamp(1.08rem, 1.9vw, 1.32rem);
    }
    
    .lead {
      font-size: clamp(1rem, 1.15vw, 1.08rem);
      color: #cbd5e1;
    }
    
    .section {
      padding: 3.5rem 0;
    }
    
    .section-tight {
      padding: 2.2rem 0;
    }

    /* Botões */
    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      border-radius: 0.9rem;
      padding: 0.85rem 1.15rem;
      transition: transform 0.15s ease, background 0.2s ease, border-color 0.2s ease;
    }
    
    .btn-primary {
      background: var(--primary);
      color: #03120d;
    }
    
    .btn-primary:hover {
      background: var(--primary-400);
      transform: translateY(-1px);
    }
    
    .btn-ghost {
      border: 2px solid rgba(16, 185, 129, 0.35);
      color: #fff;
    }
    
    .btn-ghost:hover {
      border-color: var(--primary);
      transform: translateY(-1px);
    }

    /* Cards refinados */
    .grid-cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(270px, 1fr));
      gap: 1.1rem;
    }
    
    .glass-wet {
      position: relative;
      background: rgba(255, 255, 255, 0.045);
      border: 1px solid rgba(255, 255, 255, 0.09);
      backdrop-filter: blur(12px) saturate(140%);
      border-radius: 1.1rem;
      overflow: hidden;
    }
    
    .glass-wet::before {
      content: "";
      position: absolute;
      inset: -20%;
      background:
        radial-gradient(120px 16px at 18% 10%, rgba(255, 255, 255, 0.08), transparent 60%),
        radial-gradient(140px 18px at 62% 0%, rgba(255, 255, 255, 0.07), transparent 60%),
        linear-gradient(115deg, rgba(255, 255, 255, 0.06) 0%, rgba(255, 255, 255, 0) 40%, rgba(255, 255, 255, 0.05) 60%, rgba(255, 255, 255, 0) 100%);
      filter: blur(0.4px);
      pointer-events: none;
      opacity: 0.75;
    }
    
    .glass-wet::after {
      content: "";
      position: absolute;
      inset: 0;
      pointer-events: none;
      opacity: 0.45;
      background-image:
        radial-gradient(3px 3px at 20% 30%, rgba(255, 255, 255, 0.10) 40%, transparent 41%),
        radial-gradient(2.5px 2.5px at 40% 60%, rgba(255, 255, 255, 0.10) 40%, transparent 41%),
        radial-gradient(2.5px 2.5px at 70% 20%, rgba(255, 255, 255, 0.10) 40%, transparent 41%),
        radial-gradient(2.5px 2.5px at 85% 55%, rgba(255, 255, 255, 0.10) 40%, transparent 41%);
      background-repeat: no-repeat;
    }
    
    .feature {
      transition: transform 0.18s ease, box-shadow 0.18s ease, border-color 0.18s ease;
    }
    
    .feature:hover {
      transform: translateY(-3px);
      box-shadow: 0 12px 26px rgba(16, 185, 129, 0.12);
      border-color: rgba(16, 185, 129, 0.45);
    }
    
    .feature .icon {
      font-size: 2rem;
    }

    /* Fundo e spotlight */
    #matrix-canvas {
      position: fixed;
      inset: 0;
      z-index: -2;
      opacity: 0.07;
    }
    
    #spotlight {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: -1;
    }

    /* Badges de stack */
    .stack-badges {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
      gap: 0.85rem;
    }
    
    .badge-card {
      position: relative;
      border: 1px solid rgba(255, 255, 255, 0.08);
      background: linear-gradient(180deg, rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.02));
      border-radius: 0.8rem;
      padding: 0.8rem 0.95rem;
      display: flex;
      align-items: center;
      gap: 0.6rem;
      overflow: hidden;
      transition: border-color 0.2s ease, transform 0.15s ease;
    }
    
    .badge-card:hover {
      border-color: rgba(16, 185, 129, 0.45);
      transform: translateY(-2px);
    }
    
    .badge-icon {
      width: 22px;
      height: 22px;
      flex: 0 0 22px;
    }
    
    .badge-shimmer::after {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(120deg, transparent 0%, rgba(255, 255, 255, 0.08) 15%, transparent 30%);
      transform: translateX(-100%);
      animation: shimmer 3.2s ease-in-out infinite;
    }
    
    @keyframes shimmer {
      to {
        transform: translateX(100%);
      }
    }

    /* IA: botão e painel (com overlay e fechar) - CORRIGIDO */
    .ia-fab {
      position: fixed;
      right: 18px;
      bottom: 18px;
      z-index: 50;
      width: 64px;
      height: 64px;
      border-radius: 9999px;
      color: #03120d;
      background: var(--primary);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      box-shadow: 0 10px 30px rgba(16, 185, 129, 0.35);
      cursor: pointer;
      border: none;
    }
    
    .ia-fab::before {
      content: "";
      position: absolute;
      inset: -6px;
      border-radius: 9999px;
      background: conic-gradient(from 0deg, rgba(16, 185, 129, 0) 0%, rgba(16, 185, 129, 0.8) 25%, rgba(16, 185, 129, 0) 50%, rgba(16, 185, 129, 0.8) 75%, rgba(16, 185, 129, 0) 100%);
      filter: blur(6px);
      animation: ring 3.5s linear infinite;
      z-index: -1;
    }
    
    @keyframes ring {
      to {
        transform: rotate(360deg);
      }
    }
    
    #ia-overlay {
      position: fixed;
      inset: 0;
      background: rgba(2, 6, 12, 0.65);
      backdrop-filter: blur(2px);
      z-index: 40;
      display: none;
    }
    
    #ia-panel {
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.6);
      z-index: 60; /* Adicionado z-index maior */
      backdrop-filter: blur(12px) saturate(140%); /* Adicionado para consistência */
    }

    @media (min-width: 768px) {
      #ia-panel {
        right: 18px;
        bottom: 92px;
        width: 390px;
        max-height: 72vh;
        border-radius: 1rem;
      }
    }
    
    @media (max-width: 767px) {
      #ia-panel {
        left: 12px;
        right: 12px;
        bottom: 12px;
        max-height: 78vh;
        border-radius: 1rem;
      }
    }

    .chip {
      padding: 0.45rem 0.7rem;
      border-radius: 0.7rem;
      border: 1px solid #334155;
      background: #0b1220;
      color: #e2e8f0;
      font-size: 0.85rem;
      cursor: pointer;
      transition: border-color 0.2s ease;
    }
    
    .chip:hover {
      border-color: var(--primary);
    }
    
    .msg {
      font-size: 0.95rem;
    }
    
    .msg-user {
      color: #a7f3d0;
    }
    
    .msg-bot {
      color: #e5e7eb;
    }

    /* Botão voltar ao topo (esquerda) */
    #to-top {
      position: fixed;
      left: 18px;
      bottom: 18px;
      z-index: 30;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.2s ease, transform 0.2s ease;
    }
    
    #to-top.visible {
      opacity: 1;
      pointer-events: auto;
    }
    
    #to-top:hover {
      transform: translateY(-2px);
    }

    /* Modal genérico (presença + infos dos cards) */
    .modal {
      position: fixed;
      inset: 0;
      display: none;
      z-index: 60;
    }
    
    .modal.show {
      display: flex;
    }
    
    .modal-bg {
      position: absolute;
      inset: 0;
      background: rgba(2, 6, 12, 0.7);
      backdrop-filter: blur(2px);
    }
    
    .modal-card {
      position: relative;
      margin: auto;
      max-width: 46rem;
      width: 92vw;
      border-radius: 1rem;
    }
    
    .modal-body {
      max-height: 70vh;
      overflow: auto;
    }

    @media (prefers-reduced-motion: reduce) {
      * {
        animation-duration: 0.01ms !important;
        transition-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
      }
    }

    /* Melhorias adicionais */
    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border: 0;
    }
    
    .text-balance {
      text-wrap: balance;
    }
    
    .focus-visible:focus {
      outline: 2px solid var(--primary);
      outline-offset: 2px;
    }
  </style>
</head>
<body>
  <!-- FX -->
  <canvas id="matrix-canvas" aria-hidden="true"></canvas>
  <div id="spotlight" aria-hidden="true"></div>

  <!-- Header -->
  <header class="header-blur sticky top-0 z-50 shadow shadow-emerald-500/10">
    <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
      <a href="index.html" class="text-2xl font-bold text-white focus-visible">Plena <span class="text-emerald-400">Tecnologia</span></a>
      <a href="index.html" class="btn btn-primary accessible-outline">&larr; Voltar ao Início</a>
    </nav>
  </header>

  <main>
    <!-- HERO refinado -->
    <section class="section text-center">
      <div class="container mx-auto px-6">
        <h1 class="h1 text-balance">Tecnologia que cabe no seu negócio</h1>
        <p class="lead mt-4 max-w-3xl mx-auto text-balance">
          Sistemas e sites simples de usar, feitos sob medida para pequenas e médias empresas. Começamos pelo essencial, evoluímos com você.
        </p>
        <div class="mt-8 grid sm:grid-cols-3 gap-3 text-sm max-w-4xl mx-auto">
          <div class="glass-wet p-4">
            <div class="text-emerald-400 font-semibold">Processos claros</div>
            <div class="text-gray-300">escopo enxuto e entregas contínuas</div>
          </div>
          <div class="glass-wet p-4">
            <div class="text-emerald-400 font-semibold">Suporte próximo</div>
            <div class="text-gray-300">treinamento e acompanhamento</div>
          </div>
          <div class="glass-wet p-4">
            <div class="text-emerald-400 font-semibold">Custos previsíveis</div>
            <div class="text-gray-300">planejamento por etapas</div>
          </div>
        </div>

        <div class="mt-6">
          <button id="open-presenca-btn" type="button" class="btn btn-ghost accessible-outline">
            Presença Digital — por que importa?
          </button>
        </div>
      </div>
    </section>

    <!-- Presença + Soluções (cards clicáveis com apresentação) -->
    <section id="presenca" class="section-tight">
      <div class="container mx-auto px-6 grid md:grid-cols-2 gap-8 items-stretch">
        <div class="glass-wet p-7 md:p-9">
          <div class="inline-flex items-center text-emerald-300 font-mono text-xs tracking-widest uppercase mb-2">
            Presença digital que converte
          </div>
          <h2 class="h2 text-balance">Site e landing page: seu vendedor 24h</h2>
          <p class="mt-3 text-gray-200">
            Ser encontrado, explicar sua oferta e facilitar o contato. Sites e landing pages bem estruturados constroem confiança e geram leads qualificados.
          </p>
          <ul class="mt-5 space-y-3 text-gray-200">
            <!-- TEXTO OTIMIZADO AQUI -->
            <li class="flex"><span class="text-emerald-400 mr-3">✔</span> <strong>Comunicação direta:</strong> mensagem clara que conecta com seu público</li>
            <li class="flex"><span class="text-emerald-400 mr-3">✔</span> <strong>Performance e visibilidade:</strong> rápido e bem posicionado no Google</li>
            <li class="flex"><span class="text-emerald-400 mr-3">✔</span> <strong>Conversão otimizada:</strong> gatilhos que transformam visitantes em clientes</li>
          </ul>
          <div class="mt-6 flex flex-wrap gap-3">
            <a href="#contato" class="btn btn-primary accessible-outline">Quero uma proposta objetiva</a>
            <button id="open-presenca-btn-2" type="button" class="btn btn-ghost accessible-outline">Entenda a importância</button>
          </div>
        </div>

        <div class="grid-cards">
          <article class="glass-wet feature p-6 border border-white/10 cursor-pointer" data-info="sistemas" tabindex="0" role="button" aria-label="Saiba mais sobre Sistemas sob medida">
            <div class="icon mb-3" aria-hidden="true">💻</div>
            <h3 class="h3">Sistemas sob medida</h3>
            <p class="text-gray-300 mt-1">Cadastros, estoque, agenda, relatórios e integrações — só o que você precisa.</p>
            <ul class="mt-3 text-sm text-gray-400 space-y-1 list-disc pl-5">
              <li>Interface simples</li><li>Multi-dispositivo</li><li>Evolução por etapas</li>
            </ul>
          </article>
          <article class="glass-wet feature p-6 border border-white/10 cursor-pointer" data-info="sites" tabindex="0" role="button" aria-label="Saiba mais sobre Sites e landing pages">
            <div class="icon mb-3" aria-hidden="true">🌐</div>
            <h3 class="h3">Sites e landing pages</h3>
            <p class="text-gray-300 mt-1">Estrutura focada em conversão, SEO técnico e carregamento rápido.</p>
            <ul class="mt-3 text-sm text-gray-400 space-y-1 list-disc pl-5">
              <li>Copy orientada à ação</li><li>WhatsApp e formulários</li><li>Métricas</li>
            </ul>
          </article>
          <article class="glass-wet feature p-6 border border-white/10 cursor-pointer" data-info="automacao" tabindex="0" role="button" aria-label="Saiba mais sobre Automação de processos">
            <div class="icon mb-3" aria-hidden="true">🤖</div>
            <h3 class="h3">Automação de processos</h3>
            <p class="text-gray-300 mt-1">Atendimento inicial, qualificação de leads e tarefas repetitivas automatizadas.</p>
            <ul class="mt-3 text-sm text-gray-400 space-y-1 list-disc pl-5">
              <li>Respostas frequentes</li><li>Roteamento</li><li>Integrações</li>
            </ul>
          </article>
          <article class="glass-wet feature p-6 border border-white/10 cursor-pointer" data-info="mvp" tabindex="0" role="button" aria-label="Saiba mais sobre Comece pequeno">
            <div class="icon mb-3" aria-hidden="true">🧩</div>
            <h3 class="h3">Comece pequeno</h3>
            <p class="text-gray-300 mt-1">MVP primeiro. Aprenda com uso real e invista com segurança.</p>
            <ul class="mt-3 text-sm text-gray-400 space-y-1 list-disc pl-5">
              <li>Escopo enxuto</li><li>Roadmap claro</li><li>Custos previsíveis</li>
            </ul>
          </article>
        </div>
      </div>
    </section>

    <!-- Processo -->
    <section id="solucoes" class="section">
      <div class="container mx-auto px-6">
        <div class="text-center mb-10">
          <h2 class="h2 text-balance">Como entregamos resultado</h2>
          <p class="lead mt-2 max-w-2xl mx-auto text-balance">Um caminho direto: diagnóstico, MVP funcional e evolução guiada por dados.</p>
        </div>

        <div class="grid-cards">
          <div class="glass-wet p-6 border border-white/10">
            <div class="text-emerald-400 font-mono text-sm mb-1">01</div>
            <h3 class="h3">Diagnóstico rápido</h3>
            <p class="text-gray-300 mt-2">Mapeamos objetivos, canais e gargalos. Definimos o menor caminho viável.</p>
          </div>
          <div class="glass-wet p-6 border border-white/10">
            <div class="text-emerald-400 font-mono text-sm mb-1">02</div>
            <h3 class="h3">MVP que gera valor</h3>
            <p class="text-gray-300 mt-2">Primeira versão no ar com o essencial para vender e operar.</p>
          </div>
          <div class="glass-wet p-6 border border-white/10">
            <div class="text-emerald-400 font-mono text-sm mb-1">03</div>
            <h3 class="h3">Evolução por etapas</h3>
            <p class="text-gray-300 mt-2">Melhorias orientadas por uso real e métricas — sem desperdício.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Planos & Pagamento -->
    <section class="section-tight">
      <div class="container mx-auto px-6">
        <div class="glass-wet p-7">
          <h2 class="h2 mb-2 text-balance">Planos e pagamento</h2>
          <p class="text-gray-300">Opções que cabem no bolso e dão previsibilidade.</p>

          <div class="mt-6 grid md:grid-cols-3 gap-4">
            <div class="glass-wet p-5">
              <h3 class="h3 mb-1">Projeto por etapas</h3>
              <p class="text-gray-300">Definimos um MVP e entregamos em partes. Você valida e decide os próximos passos.</p>
              <ul class="mt-3 text-sm text-gray-400 space-y-1 list-disc pl-5">
                <li>Pagamento por entrega</li>
                <li>Sem surpresa de custos</li>
                <li>Prioridades ajustáveis</li>
              </ul>
            </div>
            <div class="glass-wet p-5">
              <h3 class="h3 mb-1">Mensalidade com suporte</h3>
              <p class="text-gray-300">Pacote completo para site ou sistema leve, com hospedagem e atualização.</p>
              <ul class="mt-3 text-sm text-gray-400 space-y-1 list-disc pl-5">
                <li>Hospedagem e monitoramento</li>
                <li>Suporte e pequenas melhorias</li>
                <li>Relatórios básicos</li>
              </ul>
              <p class="text-gray-400 mt-2 text-sm">Planos mensais sob demanda — ideal para manter tudo funcionando.</p>
            </div>
            <div class="glass-wet p-5">
              <h3 class="h3 mb-1">Parcelamento acessível</h3>
              <p class="text-gray-300">Opções de entrada + parcelas ou até 12x no cartão (quando aplicável).</p>
              <ul class="mt-3 text-sm text-gray-400 space-y-1 list-disc pl-5">
                <li>Entrada + 3x/6x/9x</li>
                <li>Até 12x no cartão</li>
                <li>PIX recorrente</li>
              </ul>
              <p class="text-gray-400 mt-2 text-sm">Ajustamos à realidade do seu negócio local.</p>
            </div>
          </div>

          <div class="text-center mt-6">
            <a href="#contato" class="btn btn-primary accessible-outline">Quero simular meu plano</a>
          </div>
        </div>
      </div>
    </section>

    <!-- Contato -->
    <section id="contato" class="section">
      <div class="container mx-auto px-6">
        <div class="text-center mb-8">
          <h2 class="h2 text-balance">Conte seu cenário — sugerimos o caminho</h2>
          <p class="lead mt-2 max-w-2xl mx-auto text-balance">Preencha os detalhes e retornamos com uma proposta objetiva.</p>
        </div>
        <div class="max-w-3xl mx-auto glass-wet p-7">
          <form id="tech-project-form">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
              <div>
                <label for="name" class="sr-only">Seu nome ou empresa</label>
                <input id="name" class="w-full bg-gray-900/60 border border-gray-700 text-white p-3 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:outline-none" placeholder="Seu nome ou empresa" required>
              </div>
              <div>
                <label for="contact-info" class="sr-only">Seu WhatsApp ou e-mail</label>
                <input id="contact-info" class="w-full bg-gray-900/60 border border-gray-700 text-white p-3 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:outline-none" placeholder="Seu WhatsApp ou e-mail" required>
              </div>
            </div>
            <div class="mt-5">
              <label for="service-interest" class="block text-gray-400 font-medium mb-2">O que você precisa agora?</label>
              <select id="service-interest" class="w-full bg-gray-900/60 border border-gray-700 text-white p-3 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:outline-none" required>
                <option value="" disabled selected>Selecione...</option>
                <option>Sistema sob medida</option>
                <option>Site/Landing Page</option>
                <option>Automação no WhatsApp</option>
                <option>Outro (descreva abaixo)</option>
              </select>
            </div>
            <div class="mt-5">
              <label for="project-details" class="block text-gray-400 font-medium mb-2">Descreva rapidamente seu cenário</label>
              <textarea id="project-details" rows="6" class="w-full bg-gray-900/60 border border-gray-700 text-white p-3 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:outline-none" placeholder="Ex.: cadastro de clientes, fluxo de agendamento, integração com planilhas, landing para campanha local..." required></textarea>
            </div>
            <div class="text-center mt-7">
              <button type="submit" class="btn btn-primary accessible-outline w-full md:w-auto">Enviar para análise</button>
            </div>
          </form>
        </div>
      </div>
    </section>

    <!-- Stack (mantido no lugar do carrossel) -->
    <section class="section-tight">
      <div class="container mx-auto px-6">
        <h3 class="h3 mb-4 text-center text-emerald-300 font-mono tracking-widest uppercase">Ferramentas que usamos</h3>
        <div class="stack-badges">
          <div class="badge-card badge-shimmer"><svg class="badge-icon" viewBox="0 0 24 24" fill="none"><path d="M4 4h16v16H4z" stroke="#34d399" stroke-width="2"/><path d="M7 12h10M12 7v10" stroke="#34d399" stroke-width="2" stroke-linecap="round"/></svg><span>Sites e SEO</span></div>
          <div class="badge-card badge-shimmer"><svg class="badge-icon" viewBox="0 0 24 24" fill="none"><path d="M4 12h16" stroke="#10b981" stroke-width="2"/><circle cx="12" cy="12" r="8" stroke="#10b981" stroke-width="2"/></svg><span>APIs e integrações</span></div>
          <div class="badge-card badge-shimmer"><svg class="badge-icon" viewBox="0 0 24 24" fill="none"><rect x="3" y="4" width="18" height="14" rx="2" stroke="#34d399" stroke-width="2"/><path d="M7 20h10" stroke="#34d399" stroke-width="2" stroke-linecap="round"/></svg><span>Dashboards</span></div>
          <div class="badge-card badge-shimmer"><svg class="badge-icon" viewBox="0 0 24 24" fill="none"><path d="M6 6l12 12M6 18L18 6" stroke="#10b981" stroke-width="2" stroke-linecap="round"/></svg><span>Sheets/ERP</span></div>
          <div class="badge-card badge-shimmer"><svg class="badge-icon" viewBox="0 0 24 24" fill="none"><rect x="4" y="8" width="16" height="10" rx="2" stroke="#34d399" stroke-width="2"/><path d="M8 8V6a4 4 0 118 0v2" stroke="#34d399" stroke-width="2"/></svg><span>WhatsApp</span></div>
          <div class="badge-card badge-shimmer"><svg class="badge-icon" viewBox="0 0 24 24" fill="none"><path d="M4 14l4-4 4 4 4-4 4 4" stroke="#10b981" stroke-width="2" stroke-linecap="round"/></svg><span>Deploy e monitoramento</span></div>
        </div>
      </div>
    </section>
  </main>

  <!-- Rodapé padronizado -->
  <footer class="bg-gray-900 text-white py-16">
    <div class="container mx-auto px-6">
      <div class="grid md:grid-cols-4 gap-8">
        <div class="md:col-span-2">
          <a href="index.html" class="text-2xl font-bold text-white flex items-center mb-6 focus-visible">Plena <span class="text-emerald-400 ml-1">Informática</span></a>
          <p class="text-slate-400 mb-6 max-w-md">Soluções em serviços digitais, personalizados e tecnologia — do essencial ao sob medida.</p>
          <div class="flex items-center space-x-4 mb-6">
            <div class="flex items-center bg-green-100 text-green-800 py-1 px-3 rounded-full text-sm font-medium">
              <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/></svg>
              Site seguro
            </div>
            <div class="text-slate-400 text-sm">Protegido com SSL</div>
          </div>
        </div>
        <div>
          <h3 class="font-bold text-lg mb-6">Serviços</h3>
          <ul class="space-y-3">
            <li><a href="servicos.html" class="text-slate-400 hover:text-white transition focus-visible">Serviços Digitais</a></li>
            <li><a href="personalizados.html" class="text-slate-400 hover:text-white transition focus-visible">Personalizados</a></li>
            <li><a href="tecnologia.html" class="text-slate-400 hover:text-white transition focus-visible">Tecnologia</a></li>
          </ul>
        </div>
        <div>
          <h3 class="font-bold text-lg mb-6">Contato</h3>
          <ul class="space-y-3 text-slate-400">
            <li class="flex items-start"><svg class="w-5 h-5 mr-3 mt-1 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/></svg><span>São José dos Campos, SP</span></li>
            <li class="flex items-center"><svg class="w-5 h-5 mr-3 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/></svg><span>(12) 98148-8505</span></li>
            <li class="flex items-center"><svg class="w-5 h-5 mr-3 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2z"/></svg><span>plenainfotecnologia@gmail.com</span></li>
          </ul>
        </div>
      </div>
      <div class="mt-12 pt-8 border-t border-slate-800">
        <div class="flex flex-col md:flex-row justify-between items-center">
          <div class="text-center md:text-left mb-4 md:mb-0">
            <p class="text-lg italic text-slate-400 mb-2">"Tudo posso naquele que me fortalece." - Filipenses 4:13</p>
            <p class="text-sm text-slate-500">&copy; 2025 Plena Informática. Todos os direitos reservados.</p>
            <p class="text-xs text-slate-600 mt-1">Desenvolvido por Plena Informática</p>
          </div>
          <div class="flex space-x-6 text-sm text-slate-400">
            <a href="#" class="hover:text-white transition focus-visible">Termos de Uso</a>
            <a href="#" class="hover:text-white transition focus-visible">Política de Privacidade</a>
          </div>
        </div>
      </div>
    </div>
  </footer>

  <!-- FAB IA + overlay - CORRIGIDO -->
  <div id="ia-overlay" aria-hidden="true"></div>
  <button id="ia-toggle" type="button" aria-expanded="false" aria-controls="ia-panel" class="ia-fab accessible-outline">
    <svg xmlns="http://www.w3.org/2000/svg" class="w-7 h-7" viewBox="0 0 24 24" fill="currentColor"><path d="M.5 24l1.7-6.2A11.5 11.5 0 1 1 12 23.5a11.3 11.3 0 0 1-5.7-1.5L.5 24zm6.7-3.9c1.7 1 3.3 1.6 5.4 1.6 5.5 0 10-4.5 10-10S18.1 1.1 12.6 1.1A10 10 0 0 0 2.6 11c0 2.3.7 4.4 1.9 6.2l-1.1 4 3.8-1.1z"/></svg>
    <span class="sr-only">Assistente de Tecnologia</span>
  </button>

  <aside id="ia-panel" class="fixed hidden glass-wet p-0 border border-white/10" role="dialog" aria-modal="true" aria-labelledby="ia-title">
    <header class="flex items-center justify-between px-4 py-3 border-b border-white/10">
      <div class="flex items-center gap-2">
        <div class="w-6 h-6 rounded-full bg-emerald-500/90 flex items-center justify-center text-[11px] font-black">IA</div>
        <div>
          <div id="ia-title" class="text-white font-semibold leading-tight">Plena • Assistente</div>
          <div class="text-[11px] text-emerald-300/90 -mt-0.5">online — responde em segundos</div>
        </div>
      </div>
      <button id="ia-close" class="accessible-outline text-white/80 hover:text-white text-2xl leading-none px-2" aria-label="Fechar">&times;</button>
    </header>
    <div class="p-4 max-h-[60vh] overflow-y-auto space-y-3" id="ia-messages" aria-live="polite">
      <div class="msg msg-bot">Oi! Em 4 passos eu preparo um briefing e envio para nosso especialista no WhatsApp. Vamos começar?</div>
      <div class="flex flex-wrap gap-2">
        <button class="chip ia-choice" data-choice="service:Sistema sob medida">Sistema sob medida</button>
        <button class="chip ia-choice" data-choice="service:Site/Landing Page">Site/Landing Page</button>
        <button class="chip ia-choice" data-choice="service:Automação no WhatsApp">Automação no WhatsApp</button>
        <button class="chip ia-choice" data-choice="service:Outro">Outro</button>
      </div>
    </div>
    <div class="px-4 pb-4 pt-2 border-t border-white/10">
      <div class="flex gap-2">
        <label for="ia-input" class="sr-only">Digite sua mensagem</label>
        <input id="ia-input" type="text" placeholder="Escreva aqui..." class="flex-1 bg-gray-900/60 border border-gray-700 text-white rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-emerald-500"/>
        <button id="ia-send" class="btn btn-primary">Enviar</button>
      </div>
      <p class="text-[11px] text-gray-400 mt-2">Dica: "quero organizar estoque", "landing para captação local", "integrar com planilhas".</p>
    </div>
  </aside>

  <!-- Botão Voltar ao Topo (esquerda) -->
  <button id="to-top" class="btn btn-primary accessible-outline fixed" aria-label="Voltar ao topo">↑</button>

  <!-- Modal: Presença Digital -->
  <div id="presenca-modal" class="modal" aria-hidden="true">
    <div class="modal-bg" data-close="presenca"></div>
    <div class="modal-card glass-wet border border-white/10">
      <header class="flex justify-between items-center px-5 py-4 border-b border-white/10">
        <h3 class="h3">Por que a presença digital importa?</h3>
        <button class="accessible-outline text-white/80 hover:text-white text-2xl leading-none px-2" data-close="presenca" aria-label="Fechar">&times;</button>
      </header>
      <div class="modal-body p-5 text-gray-200">
        <p class="mb-3">Seu cliente procura no Google e nas redes antes de decidir. Um site simples e uma landing bem construída funcionam como um vendedor 24h.</p>
        <ul class="list-disc pl-5 space-y-2 text-gray-300">
          <li><strong>Confiança:</strong> aparência profissional e informações claras.</li>
          <li><strong>Captação:</strong> formulário e WhatsApp com mensagem pronta.</li>
          <li><strong>Local:</strong> destaque para bairro, cidade e mapa.</li>
          <li><strong>Métricas:</strong> saiba o que está dando resultado.</li>
        </ul>
        <div class="mt-5 flex flex-wrap gap-3">
          <a href="#contato" class="btn btn-primary">Quero um site que gere clientes</a>
          <button class="btn btn-ghost" data-close="presenca">Entendi</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal: Info Cards -->
  <div id="info-modal" class="modal" aria-hidden="true">
    <div class="modal-bg" data-close="info"></div>
    <div class="modal-card glass-wet border border-white/10">
      <header class="flex justify-between items-center px-5 py-4 border-b border-white/10">
        <h3 id="info-title" class="h3">Título</h3>
        <button class="accessible-outline text-white/80 hover:text-white text-2xl leading-none px-2" data-close="info" aria-label="Fechar">&times;</button>
      </header>
      <div id="info-body" class="modal-body p-5 text-gray-200">...</div>
      <div class="px-5 pb-5 flex gap-3">
        <a href="#contato" class="btn btn-primary">Quero conversar</a>
        <button class="btn btn-ghost" data-close="info">Fechar</button>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const WA_PHONE = '5512981488505';
      const prefersReduced = window.matchMedia ? window.matchMedia('(prefers-reduced-motion: reduce)') : {matches: false, addEventListener: null, addListener: null};

      /* Util */
      const openWhatsApp = (msg) => window.open(`https://api.whatsapp.com/send?phone=${WA_PHONE}&text=${encodeURIComponent(msg)}`, '_blank', 'noopener,noreferrer');

      /* ==== Matrix Rain (suave) ==== */
      const canvas = document.getElementById('matrix-canvas');
      const ctx = canvas.getContext('2d');
      let drops = [], fontSize = 16, last = 0, running = true, rafId = null;
      
      function resizeMatrix() {
        const dpr = window.devicePixelRatio || 1;
        canvas.width = innerWidth * dpr;
        canvas.height = innerHeight * dpr;
        ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
        fontSize = Math.max(14, Math.min(20, Math.floor(innerWidth / 80)));
        const cols = Math.floor(innerWidth / fontSize) * 0.8;
        drops = new Array(Math.max(10, Math.floor(cols))).fill(1);
        ctx.font = `${fontSize}px "Roboto Mono", monospace`;
      }
      
      function drawMatrix(t) {
        if (!running) return;
        const dt = t - (last || t);
        last = t;
        ctx.fillStyle = 'rgba(10, 10, 15, 0.03)';
        ctx.fillRect(0, 0, innerWidth, innerHeight);
        ctx.fillStyle = '#10b981';
        const chars = '01';
        for (let i = 0; i < drops.length; i++) {
          const text = chars[Math.random() * chars.length | 0];
          ctx.fillText(text, i * fontSize * 1.1, drops[i] * fontSize);
          if (drops[i] * fontSize > innerHeight && Math.random() > 0.992) {
            drops[i] = 0;
          }
          drops[i] += (dt > 40 ? 0.9 : 0.6);
        }
        rafId = requestAnimationFrame(drawMatrix);
      }
      
      function startMatrix() {
        if (prefersReduced.matches) return;
        running = true;
        resizeMatrix();
        cancelAnimationFrame(rafId);
        rafId = requestAnimationFrame(drawMatrix);
      }
      
      function stopMatrix() {
        running = false;
        cancelAnimationFrame(rafId);
        ctx.clearRect(0, 0, canvas.width, canvas.height);
      }
      
      window.addEventListener('resize', () => {
        if (!prefersReduced.matches) resizeMatrix();
      });

      /* ==== Spotlight (menor e mais intenso) ==== */
      const spotlight = document.getElementById('spotlight');
      let sx = innerWidth / 2, sy = innerHeight / 2, tx = sx, ty = sy, spotId = null, active = true;
      
      function renderSpot() {
        if (!active) return;
        sx += (tx - sx) * 0.18;
        sy += (ty - sy) * 0.18;
        spotlight.style.background = `radial-gradient(160px 160px at ${sx}px ${sy}px, rgba(16,185,129,.28), rgba(16,185,129,.08) 38%, rgba(16,185,129,0) 60%)`;
        spotId = requestAnimationFrame(renderSpot);
      }
      
      function enableSpot() {
        if (prefersReduced.matches || /Mobi|Android/i.test(navigator.userAgent)) {
          disableSpot();
          return;
        }
        active = true;
        cancelAnimationFrame(spotId);
        renderSpot();
      }
      
      function disableSpot() {
        active = false;
        cancelAnimationFrame(spotId);
        spotlight.style.background = 'none';
      }
      
      window.addEventListener('mousemove', e => {
        tx = e.clientX;
        ty = e.clientY;
      });

      /* ==== IA (toggle, overlay e fechar robusto) - CORRIGIDO ==== */
      const iaToggle = document.getElementById('ia-toggle');
      const iaPanel = document.getElementById('ia-panel');
      const iaClose = document.getElementById('ia-close');
      const iaOverlay = document.getElementById('ia-overlay');
      const iaMsgs = document.getElementById('ia-messages');
      const iaInput = document.getElementById('ia-input');
      const iaSend = document.getElementById('ia-send');
      let iaOpen = false;

      const brief = {service: null, objective: null, users: null, tools: null, deadline: null, budget: null};
      let phase = 'service';

      function addMsg(txt, who = 'bot') {
        const d = document.createElement('div');
        d.className = `msg ${who === 'bot' ? 'msg-bot' : 'msg-user'}`;
        d.textContent = txt;
        iaMsgs.appendChild(d);
        iaMsgs.scrollTop = iaMsgs.scrollHeight;
      }
      
      function addChips(arr) {
        const w = document.createElement('div');
        w.className = 'flex flex-wrap gap-2';
        arr.forEach(t => {
          const b = document.createElement('button');
          b.className = 'chip ia-choice';
          b.textContent = t;
          w.appendChild(b);
        });
        iaMsgs.appendChild(w);
        iaMsgs.scrollTop = iaMsgs.scrollHeight;
      }

      function openIA() {
        iaPanel.classList.remove('hidden');
        iaOverlay.style.display = 'block';
        iaToggle.setAttribute('aria-expanded', 'true');
        document.body.style.overflow = 'hidden';
        iaOpen = true;
        iaInput.focus();
        
        // Reset do assistente se estiver vazio
        if (iaMsgs.children.length <= 2) {
          phase = 'service';
          Object.keys(brief).forEach(key => brief[key] = null);
        }
      }
      
      function closeIA() {
        iaPanel.classList.add('hidden');
        iaOverlay.style.display = 'none';
        iaToggle.setAttribute('aria-expanded', 'false');
        document.body.style.overflow = '';
        iaOpen = false;
        iaToggle.focus();
      }
      
      iaToggle.addEventListener('click', () => iaOpen ? closeIA() : openIA());
      iaClose.addEventListener('click', closeIA);
      iaOverlay.addEventListener('click', closeIA);
      document.addEventListener('keydown', e => {
        if (e.key === 'Escape' && iaOpen) closeIA();
      });

      iaMsgs.addEventListener('click', (e) => {
        const el = e.target.closest('.ia-choice');
        if (!el) return;
        const val = el.textContent;
        
        if (phase === 'service') {
          brief.service = val;
          addMsg(`> ${val}`, 'user');
          addMsg('Qual é o objetivo principal? (ex.: organizar estoque, captar leads, automatizar atendimento)');
          addChips(['Organizar operação', 'Vender mais online', 'Atender mais rápido', 'Outro objetivo']);
          phase = 'objective';
          return;
        }
        
        if (phase === 'objective') {
          brief.objective = val;
          addMsg(`> ${val}`, 'user');
          addMsg('Quem vai usar no dia a dia? Informe cargos e quantidade (ex.: dono e 2 vendedores).');
          addChips(['Só eu', '2–3 pessoas', '4–10 pessoas', 'Equipe maior']);
          phase = 'users';
          return;
        }
        
        if (phase === 'users') {
          brief.users = val;
          addMsg(`> ${val}`, 'user');
          addMsg('Há ferramentas para integrar?');
          addChips(['Google Sheets', 'Excel', 'ERP', 'WhatsApp Business', 'Nenhuma', 'Outras']);
          phase = 'tools';
          return;
        }
        
        if (phase === 'tools') {
          brief.tools = brief.tools ? (brief.tools + ', ' + val) : val;
          addMsg(`> ${val}`, 'user');
          addMsg('Prazos e orçamento? Só para guiar escopo.');
          addChips(['Urgente (≤ 2 semanas)', '3–6 semanas', 'Sem pressa', 'Definimos juntos']);
          addChips(['Até 2k', '2k–5k', '5k–10k', '> 10k', 'A definir']);
          phase = 'finish';
          return;
        }
        
        if (phase === 'finish') {
          if (/semanas|pressa|juntos/i.test(val)) brief.deadline = val;
          else brief.budget = val;
          addMsg(`> ${val}`, 'user');
          
          if (brief.deadline && brief.budget) {
            const resumo = [
              `Projeto: ${brief.service || '-'}`,
              `Objetivo: ${brief.objective || '-'}`,
              `Usuários: ${brief.users || '-'}`,
              `Integrações: ${brief.tools || '-'}`,
              `Prazo: ${brief.deadline || '-'}`,
              `Orçamento: ${brief.budget || '-'}`
            ].join('\n');
            
            addMsg('Resumo pronto! Quer enviar para nosso especialista no WhatsApp?');
            const wrap = document.createElement('div');
            wrap.className = 'mt-2 flex gap-2';
            
            const send = document.createElement('button');
            send.className = 'btn btn-primary';
            send.textContent = 'Enviar no WhatsApp';
            send.addEventListener('click', () => openWhatsApp(`Olá! Segue briefing:\n\n${resumo}\n\nPode sugerir um MVP em etapas e orçamento inicial?`));
            
            const close = document.createElement('button');
            close.className = 'btn btn-ghost';
            close.textContent = 'Fechar assistente';
            close.addEventListener('click', closeIA);
            
            wrap.appendChild(send);
            wrap.appendChild(close);
            iaMsgs.appendChild(wrap);
            iaMsgs.scrollTop = iaMsgs.scrollHeight;
          }
        }
      });

      function handleFree(text) {
        const t = text.toLowerCase();
        if (t.startsWith('alterar objetivo')) {
          brief.objective = text.split('alterar objetivo').pop().trim();
          addMsg('Objetivo atualizado.', 'bot');
          return;
        }
        if (t.startsWith('orçamento')) {
          brief.budget = text.split('orçamento').pop().trim();
          addMsg('Orçamento atualizado.', 'bot');
          return;
        }
        if (t.startsWith('prazo')) {
          brief.deadline = text.split('prazo').pop().trim();
          addMsg('Prazo atualizado.', 'bot');
          return;
        }
        
        if (phase === 'objective') brief.objective = text;
        else if (phase === 'users') brief.users = text;
        else if (phase === 'tools') brief.tools = brief.tools ? (brief.tools + ', ' + text) : text;
        else if (phase === 'finish') {
          if (!brief.deadline) brief.deadline = text;
          else if (!brief.budget) brief.budget = text;
        }
        iaMsgs.scrollTop = iaMsgs.scrollHeight;
      }
      
      iaSend.addEventListener('click', () => {
        const v = iaInput.value.trim();
        if (!v) return;
        addMsg(v, 'user');
        iaInput.value = '';
        handleFree(v);
      });
      
      iaInput.addEventListener('keypress', e => {
        if (e.key === 'Enter') {
          e.preventDefault();
          iaSend.click();
        }
      });

      /* ==== Form -> WhatsApp ==== */
      const form = document.getElementById('tech-project-form');
      form?.addEventListener('submit', e => {
        e.preventDefault();
        const name = document.getElementById('name')?.value?.trim() || 'Não informado';
        const contact = document.getElementById('contact-info')?.value?.trim() || 'Não informado';
        const service = document.getElementById('service-interest')?.value || 'Não informado';
        const details = document.getElementById('project-details')?.value?.trim() || 'Sem detalhes adicionais.';
        const msg = [
          'Olá! Tenho interesse em um projeto de tecnologia.',
          '',
          `*Nome/Empresa:* ${name}`,
          `*Contato:* ${contact}`,
          `*Serviço de Interesse:* ${service}`,
          '',
          '*Detalhes do Projeto:*',
          details
        ].join('\n');
        openWhatsApp(msg);
      });

      /* ==== Voltar ao topo (esquerda) ==== */
      const toTop = document.getElementById('to-top');
      const onScroll = () => {
        if (window.scrollY > 200) {
          toTop.classList.add('visible');
        } else {
          toTop.classList.remove('visible');
        }
      };
      window.addEventListener('scroll', onScroll);
      onScroll();
      toTop.addEventListener('click', () => window.scrollTo({top: 0, behavior: 'smooth'}));

      /* ==== Modal Presença ==== */
      const presencaModal = document.getElementById('presenca-modal');
      
      function openModal(m) {
        m.classList.add('show');
        m.setAttribute('aria-hidden', 'false');
        document.body.style.overflow = 'hidden';
      }
      
      function closeModal(m) {
        m.classList.remove('show');
        m.setAttribute('aria-hidden', 'true');
        document.body.style.overflow = '';
      }
      
      document.querySelectorAll('#open-presenca-btn, #open-presenca-btn-2').forEach(btn => {
        btn.addEventListener('click', () => openModal(presencaModal));
      });
      
      presencaModal.addEventListener('click', (e) => {
        if (e.target.dataset.close === 'presenca' || e.target.classList.contains('modal')) {
          closeModal(presencaModal);
        }
      });

      /* ==== Modal Info (cards) ==== */
      const infoModal = document.getElementById('info-modal');
      const infoTitle = document.getElementById('info-title');
      const infoBody = document.getElementById('info-body');
      const infoCopy = {
        sistemas: {
          t: 'Sistemas sob medida',
          b: 'Organize cadastros, estoque, agenda e relatórios em um só lugar. Interface simples, acessível no computador e no celular. Integramos com planilhas ou sistemas que você já usa.'
        },
        sites: {
          t: 'Sites e landing pages',
          b: 'Página enxuta e direta, feita para explicar sua oferta e gerar contato. Otimizada para Google e com carregamento rápido. Integração com WhatsApp e formulários.'
        },
        automacao: {
          t: 'Automação de processos',
          b: 'Economize tempo nas tarefas repetitivas. Atenda mais rápido com mensagens automáticas, qualifique leads e dispare ações (planilhas, e-mails, CRM) sem esforço.'
        },
        mvp: {
          t: 'Comece pequeno',
          b: 'Tiramos a ideia do papel com uma primeira versão útil (MVP). Você valida com clientes reais e investe no que traz resultado.'
        }
      };
      
      document.querySelectorAll('[data-info]').forEach(card => {
        card.addEventListener('click', () => {
          const k = card.getAttribute('data-info');
          const c = infoCopy[k];
          if (!c) return;
          infoTitle.textContent = c.t;
          infoBody.textContent = c.b;
          openModal(infoModal);
        });
        
        // Adicionar suporte a teclado
        card.addEventListener('keydown', (e) => {
          if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            const k = card.getAttribute('data-info');
            const c = infoCopy[k];
            if (!c) return;
            infoTitle.textContent = c.t;
            infoBody.textContent = c.b;
            openModal(infoModal);
          }
        });
      });
      
      infoModal.addEventListener('click', (e) => {
        if (e.target.dataset.close === 'info' || e.target.classList.contains('modal')) {
          closeModal(infoModal);
        }
      });

      /* ==== Preferências de movimento ==== */
      function applyMotion() {
        if (prefersReduced.matches) {
          stopMatrix();
          disableSpot();
        } else {
          startMatrix();
          enableSpot();
        }
      }
      
      if (prefersReduced.addEventListener) {
        prefersReduced.addEventListener('change', applyMotion);
      } else if (prefersReduced.addListener) {
        prefersReduced.addListener(applyMotion);
      }
      
      applyMotion();
    });
  </script>
</body>
</html>